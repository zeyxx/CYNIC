{
  "$schema": "../../schemas/dog-patterns.json",
  "dog": "architect",
  "sefira": "Chesed",
  "version": "1.0.0",
  "description": "L1 architecture patterns for design decisions",

  "structurePatterns": {
    "description": "Expected codebase structure patterns",
    "monorepo": {
      "indicators": ["packages/", "lerna.json", "pnpm-workspace.yaml", "turbo.json"],
      "expectations": {
        "sharedPackages": ["core", "shared", "common"],
        "packageStructure": ["src/", "test/", "package.json"]
      }
    },
    "singleRepo": {
      "indicators": ["src/", "no packages/"],
      "expectations": {
        "entryPoints": ["src/index.*", "src/main.*"],
        "testLocation": ["test/", "__tests__/", "*.test.*"]
      }
    }
  },

  "designPatterns": {
    "description": "Common design patterns to recognize",
    "patterns": [
      {
        "name": "singleton",
        "indicators": ["getInstance", "private constructor", "static instance"],
        "evaluation": "Consider if truly necessary - often overused"
      },
      {
        "name": "factory",
        "indicators": ["create*", "make*", "build*"],
        "evaluation": "Good for abstraction, watch for over-abstraction"
      },
      {
        "name": "observer",
        "indicators": ["subscribe", "emit", "on(", "addEventListener"],
        "evaluation": "Good for decoupling, watch for memory leaks"
      },
      {
        "name": "dependency_injection",
        "indicators": ["inject", "provide", "constructor params"],
        "evaluation": "Excellent for testability"
      }
    ]
  },

  "antiPatterns": {
    "description": "Patterns to avoid",
    "patterns": [
      {
        "name": "circular_dependency",
        "indicators": ["A imports B imports A"],
        "severity": "high",
        "suggestion": "Extract shared code to third module"
      },
      {
        "name": "god_module",
        "indicators": ["exports > 20", "responsibilities > 5"],
        "severity": "medium",
        "suggestion": "Split by responsibility"
      },
      {
        "name": "leaky_abstraction",
        "indicators": ["implementation details in interface"],
        "severity": "medium",
        "suggestion": "Review abstraction boundaries"
      }
    ]
  },

  "layerBoundaries": {
    "description": "Expected layer separation",
    "layers": ["presentation", "business", "data"],
    "allowedDependencies": {
      "presentation": ["business"],
      "business": ["data"],
      "data": []
    },
    "violations": []
  },

  "learnedPatterns": [],

  "metadata": {
    "createdAt": "2026-02-02T00:00:00Z",
    "updatedAt": "2026-02-02T00:00:00Z",
    "learningEnabled": true
  }
}
